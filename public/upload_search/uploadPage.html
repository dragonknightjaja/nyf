<!DOCTYPE HTML >
<html>
	<head>
        <meta charset="utf-8"/>
        <link rel="stylesheet" type="text/css" href="../css/bootstrap.min.css"/>
        <link rel="stylesheet" type="text/css" href="../css/uploadPage.css"/>
        <script src="../jquery/jquery-3.3.1.min.js"></script>    
        <script src="http://static.runoob.com/assets/jquery-validation-1.14.0/dist/jquery.validate.min.js"></script>
        <script src="http://static.runoob.com/assets/jquery-validation-1.14.0/dist/localization/messages_zh.js"></script>  
        <title>上传文件页面</title>
    </head>

    <body>
        <nav class="navbar navbar-inverse navbar-fixed-top">
            <div class="container-fluid">
              <!-- Brand and toggle get grouped for better mobile display -->
              <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                  <span class="sr-only">Toggle navigation</span>
                  <span class="icon-bar"></span>
                  <span class="icon-bar"></span>
                  <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#">Wissen</a>
              </div>
          
              <!-- Collect the nav links, forms, and other content for toggling -->
              <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav">
                  <li><a href="#">首页</a></li>
                  <li><a href="../html/download.php">资源区</a></li>
                </ul>
                
                <ul class="nav navbar-nav navbar-right">
                  <li><a id="user" href="#">欢迎您</a></li>
                  <li><a href="#">注销</a></li>
                </ul>
              </div><!-- /.navbar-collapse -->
            </div><!-- /.container-fluid -->
          </nav>
        <h1><b>上传资源</b></h1>
        <div class="container">
            <form action="../php/upload_bt.php"  id="uploadForm" method="post" enctype="multipart/form-data">
              <label for="name" ><font size="5">资源名称:</font></label>
              <input type="text" name="name" placeholder="此处填入你上传的资源的名字,不多于20个字符." style="width: 70%;"/>
              <div class="type">
                  
                  <div>
                    <label for="label" ><font size="5">资源类型:</font></label>
                    <input type="text" name="type" id='labelText' readonly='readonly' placeholder="点击下面的标签选择资源的类型~" style="width: 70%;"/>
                  </div>
                  <span class="label label-default">电影</span>
                  <span class="label label-primary">电视剧</span>
                  <span class="label label-success">学习资料</span>
                  <span class="label label-info">动漫</span>
                  <span class="label label-warning">游戏</span>
                  <span class="label label-danger">其他</span>
              </div>
              <div class="describe">
                  <label for="label" ><font size="5">描述:</font></label>
                  <input type="text" name="des" style="position: relative; top: 40px; width: 70%; height: 150px;" placeholder="此处写下你的描述,不多于50个字符~"></textarea>
              </div>
              <div class="file" style="top: 130px;">
                <input type="file" name="file" style="position:relative;  left:35%;"/><br>
                <input type="submit" value="提交" style="position:relative;  left:35%;"/>
              </div>
            </form>
        </div>
    </body>

    <script>

      //该方法可以获得给定参数名的cookie
      function getCookie(c_name)
      {
        if (document.cookie.length>0)
        {
          c_start=document.cookie.indexOf(c_name + "=")
          if (c_start!=-1)
          { 
            c_start=c_start + c_name.length+1 
            c_end=document.cookie.indexOf(";",c_start)
            if (c_end==-1) c_end=document.cookie.length
              return unescape(document.cookie.substring(c_start,c_end))
          } 
        }
        return ""
      }

      $(document).ready(function(){

        if(getCookie("user") != ""){
          $('#user').append(',' + getCookie("user"));
        }
        
        $('.label').click(function(){

          $('#labelText').val( $(this).text() );
        });


        //验证提交表单
        $("#uploadForm").validate({
          rules: {

            name: {
              required: true,
              maxlength: 20
            },
            label: {
              required: true
            },
            des: {
              maxlength: 50
            }
          },
          messages: {

            name: {
              required: "请输入资源名称",
              maxlength: "资源名称不多于20个字符!"
            },
            label: {
              required: "请选择资源类型",
            },
            des: {
              maxlength: "描述不多于50个字符!",
            }
          }
        });

      });
    </script>
</html>